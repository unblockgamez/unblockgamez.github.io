<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Page</title>
   <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-9">
        <div class="game-container">
          <div class="game-content" data-id="169">
            <div id="allow_mobile_version"></div>
            <div class="game-iframe-container" id="game-player">
              <div id="mobile-back-button" draggable="true">
                <i class="bi bi-x-circle-fill"></i>
              </div>
              <iframe class="game-iframe" id="game-area" src="https://unblocked6xgames.com/1v1-lol" width="480" height="800" scrolling="none" frameborder="0" allowfullscreen=""></iframe>
            </div>
          </div>
          <div class="game-info">
            <div class="header-left">
              <h1 class="single-title">1v1.lol Unblocked</h1>
            </div>
            <div class="header-right">
              <div class="b-action2">
                <a href="#" onclick="open_fullscreen()" class="btn btn-capsule"><i class="bi bi-arrows-fullscreen b-icon"></i>Fullscreen</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Hot Games Section -->
      <div class="col-md-3">
        <div align="center">
          <div style="color: white;"><h3>Hot Games</h3></div>
          <hr>
          <div id="hot-games-container"></div>
        </div>
      </div>
    </div>

    <!-- Popular Games Section -->
    <div class="vex_x">
      <div style="text-align: justify; margin: 10px;">
        <h3 class="section-title">Popular Games</h3>
        <div class="row grid-container" id="popular-games-container"></div>
      </div>
    </div>
  </div>

  <script>
    // Function to render games
    function renderGames(containerId, games, currentGameUrl) {
      const container = document.getElementById(containerId);
      container.innerHTML = ''; // Clear existing content

      games.forEach(game => {
        if (game.url !== currentGameUrl) { // Exclude the current game
          const gameItem = document.createElement('div');
          gameItem.className = 'col-lg-2 col-md-4 col-6 grid-3';

          const gameLink = document.createElement('a');
          gameLink.href = game.url;

          const listGame = document.createElement('div');
          listGame.className = 'list-game';

          const listThumbnail = document.createElement('div');
          listThumbnail.className = 'list-thumbnail';

          const gameImage = document.createElement('img');
          gameImage.src = game.image;
          gameImage.alt = game.name;
          gameImage.title = game.title;
          gameImage.classList.add('lazyload');

          const listTitle = document.createElement('div');
          listTitle.className = 'list-title';
          listTitle.textContent = game.name;

          listThumbnail.appendChild(gameImage);
          listThumbnail.appendChild(listTitle);
          listGame.appendChild(listThumbnail);
          gameLink.appendChild(listGame);
          gameItem.appendChild(gameLink);
          container.appendChild(gameItem);
        }
      });
    }

    // Fetch and render hot games
    fetch('hotgames.json')
      .then(response => response.json())
      .then(data => {
        const currentGameUrl = window.location.pathname; // Get current game URL
        renderGames('hot-games-container', data, currentGameUrl);
      })
      .catch(error => console.error('Error loading hot games:', error));

    // Fetch and render popular games
    fetch('games.json')
      .then(response => response.json())
      .then(data => {
        const currentGameUrl = window.location.pathname; // Get current game URL
        renderGames('popular-games-container', data, currentGameUrl);
      })
      .catch(error => console.error('Error loading popular games:', error));
  </script>
</body>
</html>
